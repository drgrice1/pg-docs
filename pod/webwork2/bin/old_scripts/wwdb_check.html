<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset='UTF-8'>
<link rel="icon" href="/favicon.ico">
<title>old_scripts/wwdb_check</title>
</head>
<body>
<h1>old_scripts/wwdb_check</h1>
<div style="margin-left:20px">Jump to: <a href="#column-one">Site Navigation</a></div>
<hr>
<div id="_podtop_">


<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#OPTIONS">OPTIONS</a></li>
</ul>

<a href="#_podtop_"><h1 id="NAME">NAME</h1></a>

<p>wwdb_check - check the schema of an existing WeBWorK database</p>

<a href="#_podtop_"><h1 id="SYNOPSIS">SYNOPSIS</h1></a>

<pre><code> wwdb_check [-nv] [ COURSE ... ]</code></pre>

<a href="#_podtop_"><h1 id="DESCRIPTION">DESCRIPTION</h1></a>

<p>Scans an existing WeBWorK database to verify that its structure is correct for version 0 of the database structure. Version 0 refers to the last version before automatic database upgrading was added to WeBWorK. This utility should be run once after upgrading webwork from version 2.2.x to version 2.3.0.</p>

<p>Once any inconsistencies are fixed using this utility, <i>wwdb_upgrade</i> should be run to affect automatic database upgrades to the database version appropriate for the current version of WeBWorK.</p>

<p>If no courses are listed on the command line, all courses are checked. Checks for the following:</p>

<ul>

<li><p>Make sure that the appropriate tables exist for each course.</p>

</li>
<li><p>Make sure that the proper columns exist in each table.</p>

</li>
<li><p>Verify that the proper column type is in use for each column.</p>

</li>
</ul>

<a href="#_podtop_"><h1 id="OPTIONS">OPTIONS</h1></a>

<dl>

<dt>-n</dt>
<dd>

<p>Don&#39;t offer to fix problems, just report them.</p>

</dd>
<dt>-v</dt>
<dd>

<p>Verbose output.</p>

</dd>
</dl>

<pre><code> %ww_table_data = (
         $table =&gt; {
                 sql_name =&gt; &quot;SQL name for this field, probably contains $random_courseID&quot;,
                 field_order =&gt; [ ... ],
                 keyfield_order =&gt; [ ... ],
                 fields =&gt; {
                         $field =&gt; {
                                 sql_name =&gt; &quot;SQL name for this field, possibly overridden&quot;,
                                 sql_type =&gt; &quot;type for this field, from SQL_TYPES in record class&quot;,
                                 is_keyfield =&gt; &quot;boolean, whether or not this field is a keyfield&quot;,
                         },
                         ...
                 },
         },
         ...
 );</code></pre>

</div>
<hr>
<div id="column-one">
<h5>Site Navigation</h5>
<div>
<ul>
<li><a href="/pod">WeBWorK POD Home</a></li>
<li><a href="http://webwork.maa.org/wiki/WeBWorK_Main_Page">WeBWorK Wiki</a></li>
</ul>
</div>
</div>
</body>
</html>


