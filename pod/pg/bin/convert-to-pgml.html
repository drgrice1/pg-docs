<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset='UTF-8'>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>convert-to-pgml.pl</title>
	<link rel="shortcut icon" href="/favicon.ico">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="//assets/podviewer.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" defer></script>
	<script src="//assets/podviewer.js" defer></script>
</head>
<body>
	<div class="pod-header navbar navbar-dark bg-primary px-3 position-fixed border-bottom border-dark">
		<div class="container-fluid d-flex flex-column d-md-block">
			<h1 class="navbar-brand fw-bold fs-5 me-auto me-md-0 mb-2 mb-md-0">convert-to-pgml.pl</h1>
			<button class="navbar-toggler d-md-none me-auto" type="button" data-bs-toggle="offcanvas"
				data-bs-target="#sidebar" aria-controls="sidebar" aria-label="Toggle Sidebar">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
	</div>
	<aside class="offcanvas-md offcanvas-start border-end border-dark position-fixed" tabindex="-1"
		id="sidebar" aria-labelledby="sidebar-label">
		<div class="offcanvas-header">
			<h2 class="offcanvas-title" id="sidebar-label">Index</h2>
			<button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#sidebar"
			   	aria-label="Close">
			</button>
		</div>
		<div class="offcanvas-body p-md-3 w-100">
			<nav>
				<ul class="nav flex-column w-100">
					<li class="nav-item">
						<a href="/" class="nav-link p-0">WeBWorK POD Home</a>
					</li>
					<li class="nav-item">
						<a href="http://webwork.maa.org/wiki/WeBWorK_Main_Page" class="nav-link p-0">WeBWorK Wiki</a>
					</li>
					<li><hr></li>
<li class="nav-item"><a class="nav-link p-0" href="#NAME">NAME</a></li><li class="nav-item"><a class="nav-link p-0" href="#SYNOPSIS">SYNOPSIS</a></li><li class="nav-item"><a class="nav-link p-0" href="#DESCRIPTION">DESCRIPTION</a>
    <ul class="nav flex-column w-100">
      <li class="nav-item"><a class="nav-link p-0" href="#OPTIONS">OPTIONS</a></li>
    </ul>
  </li>				</ul>
			</nav>
		</div>
	</aside>
	<div class="pod-page-container d-flex">
		<div class="container-fluid p-3 h-100" id="_podtop_">


<a href="#_podtop_"><h1 id="NAME">NAME</h1></a>

<p>convert-to-pgml.pl -- Convert pg problem with non-pgml structure to PGML structure.</p>

<a href="#_podtop_"><h1 id="SYNOPSIS">SYNOPSIS</h1></a>

<pre><code>convert-to-pgml -b -s pgml file1.pg file2.pg ...</code></pre>

<a href="#_podtop_"><h1 id="DESCRIPTION">DESCRIPTION</h1></a>

<p>This converts each pg file to PGML formatting. In particular, text blocks are converted to their PGML forms. This includes BEGIN_TEXT/END_TEXT, BEGIN_HINT/END_HINT, BEGIN_SOLUTION/END_SOLUTION.</p>

<p>Within each block, the following are converted: math modes to their PGML version, $BR and $PAR to line breaks or empty lines, <code>$HR</code> to <code>---</code>, bold and italics pairs, any variables of the form <code>$var</code> to <code>[$var]</code>, scripts from \{ \} to [@ @], and <code>ans_rule</code> to the form <code>[_]{}</code></p>

<p>Many code features that are no longer needed are removed including <code>TEXT(beginproblem())</code>, <code>&lt;Context()-</code>texStrings;&gt;&gt; and <code>&lt;Context()-</code>normalStrings;&gt;&gt;. Any <code>ANS</code> commands are commented out.</p>

<p>The <code>loadMacros</code> command is parsed, the <code>PGML.pl</code> is included and <code>MathObjects.pl</code> is removed (because it is loaded by <code>PGML.pl</code>) and <code>PGcourse.pl</code> is added to the end of the list.</p>

<p>Note: many of the features are converted correctly, but often there will be errors after the conversion. Generally after using this script, the PGML style answers will need to have their corresponding variable added.</p>

<h2 id="OPTIONS">OPTIONS</h2>

<p>The option <code>-b</code> or <code>--backup</code> will create a <code>.bak</code> file with the original code and replace the current file with the converted code.</p>

<p>The option <code>-s xyz</code> or <code>--suffix=xyz</code> will convert the code and write the results in a file with the given suffix <code>xyz</code> appended to the file name. If this is not given <code>pgml</code> is used. If the <code>-b</code> flag is used, this option will be ignored.</p>

		</div>
	</div>
</body>
</html>
