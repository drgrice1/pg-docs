<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset='UTF-8'>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>math/PGstatisticsmacros.pl</title>
	<link rel="shortcut icon" href="/favicon.ico">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://openwebwork.github.io/pg-docs/pod/assets/podviewer.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" defer></script>
	<script src="https://openwebwork.github.io/pg-docs/pod/assets/podviewer.js" defer></script>
</head>
<body>
	<div class="pod-header navbar navbar-dark bg-primary px-3 position-fixed border-bottom border-dark">
		<div class="container-fluid d-flex flex-column d-md-block">
			<h1 class="navbar-brand fw-bold fs-5 me-auto me-md-0 mb-2 mb-md-0">math/PGstatisticsmacros.pl</h1>
			<button class="navbar-toggler d-md-none me-auto" type="button" data-bs-toggle="offcanvas"
				data-bs-target="#sidebar" aria-controls="sidebar" aria-label="Toggle Sidebar">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
	</div>
	<aside class="offcanvas-md offcanvas-start border-end border-dark position-fixed" tabindex="-1"
		id="sidebar" aria-labelledby="sidebar-label">
		<div class="offcanvas-header">
			<h2 class="offcanvas-title" id="sidebar-label">Index</h2>
			<button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#sidebar"
			   	aria-label="Close">
			</button>
		</div>
		<div class="offcanvas-body p-md-3 w-100">
			<nav>
				<ul class="nav flex-column w-100">
					<li class="nav-item">
						<a href="https://openwebwork.github.io/pg-docs/pod" class="nav-link p-0">WeBWorK POD Home</a>
					</li>
					<li class="nav-item">
						<a href="http://webwork.maa.org/wiki/WeBWorK_Main_Page" class="nav-link p-0">WeBWorK Wiki</a>
					</li>
					<li><hr></li>
<li class="nav-item"><a class="nav-link p-0" href="#Statistics-Macros">Statistics Macros</a>
    <ul class="nav flex-column w-100">
      <li class="nav-item"><a class="nav-link p-0" href="#Normal-distribution">Normal distribution</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Inverse-of-normal-distribution">&quot;Inverse&quot; of normal distribution</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Mean-function">Mean function</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Standard-Deviation-function">Standard Deviation function</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Sum-and-Sum-of-Squares">Sum and Sum of Squares</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Function-to-trim-the-decimal-numbers-in-a-floating-point-number">Function to trim the decimal numbers in a floating point number.</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Function-to-generate-normally-distributed-random-numbers">Function to generate normally distributed random numbers</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Function-to-generate-exponentially-distributed-random-numbers">Function to generate exponentially distributed random numbers</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Function-to-generate-Poisson-distributed-random-numbers">Function to generate Poisson distributed random numbers</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Function-to-generate-Binomial-distributed-random-numbers">Function to generate Binomial distributed random numbers</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Function-to-generate-Bernoulli-distributed-random-numbers">Function to generate Bernoulli distributed random numbers</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Generate-random-values-from-a-discrete-distribution">Generate random values from a discrete distribution.</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Chi-Squared-statistic-for-a-two-way-table">Chi Squared statistic for a two way table</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Calc-the-results-of-a-t-test">Calc the results of a t-test.</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Calc-the-results-of-a-two-sample-t-test">Calc the results of a two sample t-test.</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#insertDataLink">insertDataLink</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Five-Point-Summary-function">Five Point Summary function</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Function-to-calculate-the-Pearsons-sample-correlation">Function to calculate the Pearson&#39;s sample correlation</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Function-to-calculate-the-linear-least-squares-estimate-for-the-linear-relationship-between-two-data-sets">Function to calculate the linear least squares estimate for the linear relationship between two data sets</a></li>
      <li class="nav-item"><a class="nav-link p-0" href="#Function-to-calculate-the-frequencies-for-the-factors-in-a-given-data-set">Function to calculate the frequencies for the factors in a given data set.</a></li>
    </ul>
  </li>				</ul>
			</nav>
		</div>
	</aside>
	<div class="pod-page-container d-flex">
		<div class="container-fluid p-3 h-100" id="_podtop_">


<a href="#_podtop_"><h1 id="Statistics-Macros">Statistics Macros</h1></a>

<h2 id="Normal-distribution">Normal distribution</h2>

<pre><code>Usage: normal_prob(a, b, mean=&gt;0, deviation=&gt;1);</code></pre>

<p>Computes the probability of x being in the interval (a,b) for normal distribution. The first two arguments are required. Use &#39;-infty&#39; for negative infinity, and &#39;infty&#39; or &#39;+infty&#39; for positive infinity. The mean and deviation are optional, and are 0 and 1 respectively by default.</p>

<h2 id="Inverse-of-normal-distribution">&quot;Inverse&quot; of normal distribution</h2>

<pre><code>Usage: normal_distr(prob, mean=&gt;0, deviation=&gt;1);</code></pre>

<p>Computes the positive number b such that the probability of x being in the interval (0,b) is equal to the given probability (first argument). The mean and deviation are optional, and are 0 and 1 respectively by default. Caution: since students may use tables, they may only be able to provide the answer correct to 2 or 3 decimal places. Use tolerance when evaluating answers.</p>

<h2 id="Mean-function">Mean function</h2>

<pre><code>Usage: stats_mean(@data);</code></pre>

<p>Computes the artihmetic mean of a list of numbers, data. You may also pass the numbers individually.</p>

<h2 id="Standard-Deviation-function">Standard Deviation function</h2>

<pre><code>Usage: stats_sd(@data);</code></pre>

<p>Computes the sample standard deviation of a list of numbers, data. You may also pass the numbers individually.</p>

<h2 id="Sum-and-Sum-of-Squares">Sum and Sum of Squares</h2>

<pre><code>Usage: stats_SX_SXX(@data);</code></pre>

<p>Computes the sum of the numbers and the sum of the numbers squared.</p>

<h2 id="Function-to-trim-the-decimal-numbers-in-a-floating-point-number">Function to trim the decimal numbers in a floating point number.</h2>

<pre><code>Usage: significant_decimals(x,n)</code></pre>

<p>Trims the number x to have n decimal digit. ex: significant_decimals(0.12345678,4) = 0.1235</p>

<h2 id="Function-to-generate-normally-distributed-random-numbers">Function to generate normally distributed random numbers</h2>

<pre><code>Usage: urand(mean,sd,N,digits)</code></pre>

<p>Generates N normally distributed random numbers with the given mean and standard deviation. The digits is the number of decimal digits to use.</p>

<h2 id="Function-to-generate-exponentially-distributed-random-numbers">Function to generate exponentially distributed random numbers</h2>

<pre><code>Usage: exprand(lambda,N,digits)</code></pre>

<p>Generates N exponentially distributed random numbers with the given parameter, lambda. The digits is the number of decimal digits to use.</p>

<h2 id="Function-to-generate-Poisson-distributed-random-numbers">Function to generate Poisson distributed random numbers</h2>

<pre><code>Usage: poissonrand(lambda,N)</code></pre>

<p>Generates N Poisson distributed random numbers with the given parameter, lambda.</p>

<h2 id="Function-to-generate-Binomial-distributed-random-numbers">Function to generate Binomial distributed random numbers</h2>

<pre><code>Usage: binomrand(p,N,num)</code></pre>

<p>Generates num binomial distributed random numbers with parameters p and N.</p>

<h2 id="Function-to-generate-Bernoulli-distributed-random-numbers">Function to generate Bernoulli distributed random numbers</h2>

<pre><code>Usage: bernoullirand(p,num,{&quot;success&quot;=&gt;&quot;1&quot;,&quot;failure&quot;=&gt;&quot;0&quot;})</code></pre>

<p>Generates num Bernoulli distributed random numbers with parameter p. The value for a success is given by the optional &quot;success&quot; parameter. The value for a failure is given by the optional &quot;failure&quot; parameter.</p>

<h2 id="Generate-random-values-from-a-discrete-distribution">Generate random values from a discrete distribution.</h2>

<pre><code>Usage: discreterand($n,@tableOfProbabilities)


Example:</code></pre>

<p>my $total = 10; my @probabilities = ( [0.1,&quot;A&quot;], [0.4,&quot;B&quot;], [0.3,&quot;C&quot;], [0.2,&quot;D&quot;]);</p>

<p>@result = discreterand($total,@probabilities); $data = &#39;&#39;; foreach $lupe (@result) { $data .= $lupe . &quot;, &quot;; } $data =~ s/,$//;</p>

<p>This routine will generate num random results. The distribution is in the given array. Each element in the array is itself an array. The first value in the array is the probability. The second value in the array is the value assocated with the probability.</p>

<h2 id="Chi-Squared-statistic-for-a-two-way-table">Chi Squared statistic for a two way table</h2>

<pre><code>Usage: chisqrTable(@frequencies)

Example:
        @row1 = (1,2,2,2);
@row2 = (3,1,2,4);
@row3 = (1,4,2,1);
@row4 = (3,1,4,3);
@row5 = (5,2,2,4);
push(@table,~~@row1);
push(@table,~~@row2);
push(@table,~~@row3);
push(@table,~~@row4);
push(@table,~~@row5);
($chiSquared,$df) = chisqrTable(@table);</code></pre>

<p>Computes the Chi Squared test statistic for a two way frequency table. Returns the test statistic and the number of degrees of freedom. The array used in the argument is a list of references to arrays that have the frequencies for each row. If one of the rows has a different number of entries than the others the routine will throw an error.</p>

<h2 id="Calc-the-results-of-a-t-test">Calc the results of a t-test.</h2>

<pre><code>Usage: ($t,$df,$p) = t_test(t_test(mu,@data);                       # Perform a two-sided t-test.
or:    ($t,$df,$p) = t_test(t_test(mu,@data,{&#39;test&#39;=&gt;&#39;right&#39;});     # Perform a right sided t-test
or:    ($t,$df,$p) = t_test(t_test(mu,@data,{&#39;test&#39;=&gt;&#39;left&#39;});      # Perform a left sided t-test
or:    ($t,$df,$p) = t_test(t_test(mu,@data,{&#39;test&#39;=&gt;&#39;two-sided&#39;}); # Perform a left sided t-test</code></pre>

<p>Computes the t-statistic, the number of degrees of freedom, and the p-value after performing a t-test on the given data. the value of mu is the assumed mean for the null hypothesis. The optional argument can set whether or not a left, right, or two-sided test will be conducted.</p>

<h2 id="Calc-the-results-of-a-two-sample-t-test">Calc the results of a two sample t-test.</h2>

<pre><code>Usage: ($t,$df,$p) = two_sample_t_test(\@data1,\@data2);                       # Perform a two-sided t-test.
or:    ($t,$df,$p) = two_sample_t_test(\@data1,\@data2,{&#39;test&#39;=&gt;&#39;right&#39;});     # Perform a right sided t-test
or:    ($t,$df,$p) = two_sample_t_test(\@data1,\@data2,{&#39;test&#39;=&gt;&#39;left&#39;});      # Perform a left sided t-test
or:    ($t,$df,$p) = two_sample_t_test(\@data1,\@data2,{&#39;test&#39;=&gt;&#39;two-sided&#39;}); # Perform a left sided t-test</code></pre>

<p>Computes the t-statistic, the number of degrees of freedom, and the p-value after performing a two sample t-test on the given data. The test is whether or not the means are the same. The optional argument can set whether or not a left, right, or two-sided test will be conducted.</p>

<h2 id="insertDataLink">insertDataLink</h2>

<p>Create a CSV data file and make a link to it.</p>

<p>Usage: <code>insertDataLink($linkText, @dataRefs, $linkAttributes)</code></p>

<p>Writes the given data to a CSV file and returns a link to the file.</p>

<p><code>$linkText</code> is the text to appear in the anchor/link.</p>

<p><code>@dataRefs</code> is a list of references. Each reference is assumed to be ref to an array. All of the arrays must have the same length. The last entry in the array is assumed to be the label to use in the first row of the csv file.</p>

<p><code>linkAttributes</code> is optional. If provided, this must be a reference to a hash containing additional attributes to add to the HTML <code>a</code> tag. If this parameter is not provided or it is provided and a <code>download</code> attributed is not specified in the hash, then a default <code>download</code> attribute will be added with the value &quot;data.csv&quot;.</p>

<p>Usage:</p>

<pre><code># Generate random data with labels.
$data1 = [ urand(10.0, 2.0, 10, 2), &#39;w&#39; ];
$data2 = [ urand(12.0, 2.0, 10, 2), &#39;x&#39; ];
$data3 = [ urand(14.0, 4.0, 10, 2), &#39;y&#39; ];
$data4 = [ exprand(0.1, 10, 2), &#39;z&#39; ];

BEGIN_PGML
Data: [@ insertDataLink(
            &#39;the data&#39;, $data1, $data2, $data3, $data4,
            { download =&gt; &#39;problem-dataset.csv&#39; }
    ) @]*
END_PGML</code></pre>

<h2 id="Five-Point-Summary-function">Five Point Summary function</h2>

<pre><code>Usage: five_point_summary(@data);
or:    five_point_summary(@data,{method=&gt;&#39;includeMedian&#39;});
or:    five_point_summary(@data,{method=&gt;&#39;proper&#39;});</code></pre>

<p>Computes the five point summary of a list of numbers, data. You may also pass the numbers individually. The optional parameter can be used to specify that the median be included in the calculation of the quartiles if it is in the data set or whether proper proportions should be used to calculate the quartiles.</p>

<h2 id="Function-to-calculate-the-Pearsons-sample-correlation">Function to calculate the Pearson&#39;s sample correlation</h2>

<pre><code>Usage:  $cor = sample_correlation(~~@xData,~~@yData);</code></pre>

<p>Calculates the Pearson&#39;s sample correlation for the given data. The arguments are references to two arrays where each array contains the associated data.</p>

<h2 id="Function-to-calculate-the-linear-least-squares-estimate-for-the-linear-relationship-between-two-data-sets">Function to calculate the linear least squares estimate for the linear relationship between two data sets</h2>

<pre><code>Usage:  ($slope,$intercept,$var,$SXX) = linear_regression(~~@xdata,~~@ydata);</code></pre>

<p>Give the x data in @xdata and the t data in @ydata the least squares regression line is calculated. It also returns the variance in the residuals as well as SXX, the sum of the squares of the deviations for the x values. This is done to make it easier to perform calculations on the slope parameter such as the confidence interval or perform inference procedures.</p>

<p>Example: @xdata = (-1,2,3,4,5,6,7); @ydata = (6,5,6,7,8,9,11); ($slope,$intercept,$var,$SXX) = linear_regression(~~@xdata,~~@ydata);</p>

<h2 id="Function-to-calculate-the-frequencies-for-the-factors-in-a-given-data-set">Function to calculate the frequencies for the factors in a given data set.</h2>

<pre><code>Usage:  %freq = frequencies(@theData)</code></pre>

<p>Finds the factors in the data set and calculates the frequency of occurance for each factor. Returns a hash whose keys ar the factors and the associated values are the frequencies.</p>

		</div>
	</div>
</body>
</html>
