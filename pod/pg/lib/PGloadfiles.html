<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset='UTF-8'>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>PGloadfiles</title>
	<link rel="shortcut icon" href="/favicon.ico">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="//assets/podviewer.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" defer></script>
	<script src="//assets/podviewer.js" defer></script>
</head>
<body>
	<div class="pod-header navbar navbar-dark bg-primary px-3 position-fixed border-bottom border-dark">
		<div class="container-fluid d-flex flex-column d-md-block">
			<h1 class="navbar-brand fw-bold fs-5 me-auto me-md-0 mb-2 mb-md-0">PGloadfiles</h1>
			<button class="navbar-toggler d-md-none me-auto" type="button" data-bs-toggle="offcanvas"
				data-bs-target="#sidebar" aria-controls="sidebar" aria-label="Toggle Sidebar">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>
	</div>
	<aside class="offcanvas-md offcanvas-start border-end border-dark position-fixed" tabindex="-1"
		id="sidebar" aria-labelledby="sidebar-label">
		<div class="offcanvas-header">
			<h2 class="offcanvas-title" id="sidebar-label">Index</h2>
			<button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#sidebar"
			   	aria-label="Close">
			</button>
		</div>
		<div class="offcanvas-body p-md-3 w-100">
			<nav>
				<ul class="nav flex-column w-100">
					<li class="nav-item">
						<a href="/" class="nav-link p-0">WeBWorK POD Home</a>
					</li>
					<li class="nav-item">
						<a href="http://webwork.maa.org/wiki/WeBWorK_Main_Page" class="nav-link p-0">WeBWorK Wiki</a>
					</li>
					<li><hr></li>
<li class="nav-item">
    <ul class="nav flex-column w-100">
      <li class="nav-item"><a class="nav-link p-0" href="#loadMacros">loadMacros</a>
        <ul class="nav flex-column w-100">
          <li class="nav-item"><a class="nav-link p-0" href="#Overloading-macro-files">Overloading macro files</a></li>
          <li class="nav-item"><a class="nav-link p-0" href="#Modifying-existing-macros">Modifying existing macros</a></li>
        </ul>
      </li>
      <li class="nav-item"><a class="nav-link p-0" href="#sourceAlias">sourceAlias</a></li>
    </ul>
  </li>				</ul>
			</nav>
		</div>
	</aside>
	<div class="pod-page-container d-flex">
		<div class="container-fluid p-3 h-100" id="_podtop_">


<h2 id="loadMacros">loadMacros</h2>

<pre><code>loadMacros(@macroFiles)</code></pre>

<p>loadMacros takes a list of file names and evaluates the contents of each file. This is used to load macros which define and augment the PG language. The macro files are searched for in the directories specified by the array referenced by $macrosPath, which by default is the current course&#39;s macros directory followed by WeBWorK&#39;s pg/macros directory. The latter is where the default behaviour of the PG language is defined. The default path is set in the global.conf file.</p>

<p>Macro files named PG.pl or IO.pl will be loaded with no opcode restrictions, hence any code in those files will be able to execute privileged operations. This is true no matter which macro directory the file is in. For example, if $macrosPath contains the path to a problem library macros directory which contains a PG.pl file, this file will be loaded and allowed to engage in privileged behavior.</p>

<h3 id="Overloading-macro-files">Overloading macro files</h3>

<p>An individual course can modify the PG language, for that course only, by duplicating one of the macro files in the system-wide macros directory and placing this file in the macros directory for the course. The new file in the course&#39;s macros directory will now be used instead of the file in the system-wide macros directory.</p>

<p>The new file in the course macros directory can by modified by adding macros or modifying existing macros.</p>

<h3 id="Modifying-existing-macros">Modifying existing macros</h3>

<p><i>Modifying macros is for users with some experience.</i></p>

<p>Modifying existing macros might break other standard macros or problems which depend on the unmodified behavior of these macors so do this with great caution. In addition problems which use new macros defined in these files or which depend on the modified behavior of existing macros will not work in other courses unless the macros are also transferred to the new course. It helps to document the problems by indicating any special macros which the problems require.</p>

<p>There is no facility for modifying or overloading a single macro. The entire file containing the macro must be overloaded.</p>

<p>Modifications to files in the course macros directory affect only that course, they will not interfere with the normal behavior of WeBWorK in other courses.</p>

<h2 id="sourceAlias">sourceAlias</h2>

<pre><code>sourceAlias($path_to_PG_file);</code></pre>

<p>Returns a relative URL to the <i>source.pl</i> script, which may be installed in a course&#39;s <i>html</i> directory to allow formatted viewing of the problem source.</p>

		</div>
	</div>
</body>
</html>
